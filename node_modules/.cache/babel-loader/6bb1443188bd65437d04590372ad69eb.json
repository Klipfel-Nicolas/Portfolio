{"ast":null,"code":"import _slicedToArray from\"/Users/klipfelnicolas/Desktop/dossier web/Git Pro/Portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useContext}from'react';import LanguageContext from'../components/LanguageContext';import{formDatas}from'../data/languages-data';import emailjs from'emailjs-com';var ContactForm=function ContactForm(){var fr=formDatas.fr,en=formDatas.en;var language=useContext(LanguageContext);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),mail=_useState4[0],setMail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),phone=_useState6[0],setPhone=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),subject=_useState8[0],setSubject=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var handleSubmit=function handleSubmit(e){e.preventDefault();var nameInput=document.getElementById('name');var mailInput=document.getElementById('email');var subjectInput=document.getElementById('subject');var messInput=document.getElementById('message');var formMess=document.querySelector('.form-message');var isEmail=function isEmail(){var isMail=document.getElementById(\"not-mail\");var regex=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;if(mail.match(regex)){isMail.style.display=\"none\";return true;}else{isMail.classList.add(\"error\");mailInput.parentNode.classList.add(\"error\");return false;}};if(isEmail()&&name&&subject&&message){var templateId='template_1i86nbu';sendFeedback(templateId,{name:name,phone:phone,mail:mail,subject:subject,message:message});}else{formMess.innerHTML=\"Merci de remplir correctement les champs requis\";formMess.style.opacity=\"1\";formMess.style.color=\"#F0503E\";if(!name){nameInput.parentNode.classList.add(\"error\");}if(!mail){mailInput.parentNode.classList.add(\"error\");}if(!subject){subjectInput.parentNode.classList.add(\"error\");}if(!message){messInput.parentNode.classList.add(\"error\");}}};var sendFeedback=function sendFeedback(templateId,variables){var formMess=document.querySelector(\".form-message\");emailjs.send(\"service_51kn2fn\",templateId,variables,\"user_Zq7OP5sBKGASlkj9zRplj\").then(function(res){formMess.innerHTML=\"Message envoyé ! Nous vous recontacterons dès que possible.\";formMess.style.opacity=\"1\";formMess.style.color=\"#d49417\";document.getElementById(\"name\").classList.remove(\"error\");document.getElementById(\"email\").classList.remove(\"error\");document.getElementById(\"message\").classList.remove(\"error\");setName(\"\");setSubject(\"\");setPhone(\"\");setMail(\"\");setMessage(\"\");setTimeout(function(){formMess.style.opacity=\"0\";},5000);}).catch(function(err){return formMess.innerHTML=\"Une erreur s'est produite, veuillez réessayer.\";});};var handleFocus=function handleFocus(e){var parentDiv=e.target.parentNode;var underline=parentDiv.querySelector('.underline');underline.style.background='#d49417';underline.style.transform='scaleX(.9)';//mail remove mess\nif(parentDiv.querySelector('label')&&parentDiv.querySelector('label').classList.contains('error')){parentDiv.querySelector('label').classList.remove('error');}};var handleBlur=function handleBlur(e){var underline=e.target.parentNode.querySelector('.underline');underline.style.background='#66fad3';underline.style.transform='scaleX(1)';};var handleChange=function handleChange(e){if(e.target.parentNode.classList.contains('error')&&e.target.value.length>0){e.target.parentNode.classList.remove('error');}};return/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"coord-line\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",required:true,onChange:function onChange(e){setName(e.target.value);handleChange(e);},onFocus:function onFocus(e){return handleFocus(e);},onBlur:function onBlur(e){return handleBlur(e);},value:name,placeholder:language.language===\"Shakespeare\"?en.name:fr.name}),/*#__PURE__*/_jsx(\"span\",{className:\"underline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"email-content input\",children:[/*#__PURE__*/_jsx(\"label\",{id:\"not-mail\",children:language.language===\"Shakespeare\"?en.mail:fr.mail}),/*#__PURE__*/_jsx(\"input\",{type:\"mail\",id:\"email\",name:\"email\",required:true,onChange:function onChange(e){setMail(e.target.value);handleChange(e);},onFocus:function onFocus(e){return handleFocus(e);},onBlur:function onBlur(e){return handleBlur(e);},placeholder:\"Email\",value:mail}),/*#__PURE__*/_jsx(\"span\",{className:\"underline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"phone\",name:\"phone\",onChange:function onChange(e){return setPhone(e.target.value);},onFocus:function onFocus(e){return handleFocus(e);},onBlur:function onBlur(e){return handleBlur(e);},placeholder:language.language===\"Shakespeare\"?en.phone:fr.phone,value:phone}),/*#__PURE__*/_jsx(\"span\",{className:\"underline\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"subject-content input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"subject\",required:true,name:\"subject\",onChange:function onChange(e){setSubject(e.target.value);handleChange(e);},onFocus:function onFocus(e){return handleFocus(e);},onBlur:function onBlur(e){return handleBlur(e);},value:subject,placeholder:language.language===\"Shakespeare\"?en.subject:fr.subject}),/*#__PURE__*/_jsx(\"span\",{className:\"underline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",name:\"message\",onChange:function onChange(e){setMessage(e.target.value);handleChange(e);},onFocus:function onFocus(e){return handleFocus(e);},onBlur:function onBlur(e){return handleBlur(e);},placeholder:\"message\",value:message,required:true,rows:\"4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"underline\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,children:language.language===\"Shakespeare\"?en.button:fr.button})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-message\",children:language.language===\"Shakespeare\"?en.error:fr.error})]});};export default ContactForm;","map":{"version":3,"sources":["/Users/klipfelnicolas/Desktop/dossier web/Git Pro/Portfolio/src/components/ContactForm.js"],"names":["React","useState","useContext","LanguageContext","formDatas","emailjs","ContactForm","fr","en","language","name","setName","mail","setMail","phone","setPhone","subject","setSubject","message","setMessage","handleSubmit","e","preventDefault","nameInput","document","getElementById","mailInput","subjectInput","messInput","formMess","querySelector","isEmail","isMail","regex","match","style","display","classList","add","parentNode","templateId","sendFeedback","innerHTML","opacity","color","variables","send","then","res","remove","setTimeout","catch","err","handleFocus","parentDiv","target","underline","background","transform","contains","handleBlur","handleChange","value","length","button","error"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react'\nimport LanguageContext from '../components/LanguageContext';\nimport { formDatas } from '../data/languages-data'; \nimport emailjs from 'emailjs-com';\n\n\nconst ContactForm = () => {\n\n    const {fr, en } = formDatas;\n    const language = useContext(LanguageContext);\n    \n    const  [name, setName]  = useState(\"\");\n    const [mail, setMail] = useState(\"\");\n    const [phone, setPhone] = useState(\"\");\n    const [subject, setSubject] = useState(\"\");\n    const [message, setMessage] = useState(\"\");\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        let nameInput = document.getElementById('name');\n        let mailInput = document.getElementById('email');\n        let subjectInput = document.getElementById('subject');\n        let messInput = document.getElementById('message');\n        let formMess = document.querySelector('.form-message');\n\n        const isEmail = () => {\n            let isMail = document.getElementById(\"not-mail\");\n            let regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n\n            if (mail.match(regex)) {\n              isMail.style.display = \"none\";\n              return true;\n            } else {\n              isMail.classList.add(\"error\")\n              mailInput.parentNode.classList.add(\"error\");\n              return false;\n            }\n          };\n\n          if ( isEmail() && name && subject && message){\n            const templateId = 'template_1i86nbu';\n            \n            sendFeedback(templateId, {\n            name,\n            phone,\n            mail,\n            subject,\n            message\n          });\n          }else{\n            formMess.innerHTML = \"Merci de remplir correctement les champs requis\";           \n            formMess.style.opacity = \"1\";\n            formMess.style.color = \"#F0503E\";\n      \n            if (!name) {\n              nameInput.parentNode.classList.add(\"error\");\n            }\n            if (!mail) {\n              mailInput.parentNode.classList.add(\"error\");\n            }\n            if(!subject){\n                subjectInput.parentNode.classList.add(\"error\");\n            }\n            if (!message) {\n              messInput.parentNode.classList.add(\"error\");\n            }\n          }\n        }\n          const sendFeedback = (templateId, variables) => {\n            let formMess = document.querySelector(\".form-message\");\n        \n            emailjs\n              .send(\"service_51kn2fn\", templateId, variables, \"user_Zq7OP5sBKGASlkj9zRplj\")\n              .then((res) => {\n                formMess.innerHTML =\n                  \"Message envoyé ! Nous vous recontacterons dès que possible.\";\n                formMess.style.opacity = \"1\";\n                formMess.style.color = \"#d49417\";\n        \n                document.getElementById(\"name\").classList.remove(\"error\");\n                document.getElementById(\"email\").classList.remove(\"error\");\n                document.getElementById(\"message\").classList.remove(\"error\");\n                setName(\"\");\n                setSubject(\"\");\n                setPhone(\"\");\n                setMail(\"\");\n                setMessage(\"\");\n        \n                setTimeout(() => {\n                  formMess.style.opacity = \"0\";\n                }, 5000);\n              })\n              .catch(\n                (err) =>\n                  (formMess.innerHTML =\n                    \"Une erreur s'est produite, veuillez réessayer.\")\n              );\n        };\n    \n    const handleFocus = (e) =>{\n      let parentDiv = e.target.parentNode\n        let underline =  parentDiv.querySelector('.underline');\n        underline.style.background = '#d49417';\n        underline.style.transform = 'scaleX(.9)';\n        //mail remove mess\n        if( parentDiv.querySelector('label') && parentDiv.querySelector('label').classList.contains('error')){\n            parentDiv.querySelector('label').classList.remove('error')\n        }\n        \n    }  \n    const handleBlur = (e)=>{\n      let underline =  e.target.parentNode.querySelector('.underline');\n      underline.style.background = '#66fad3';\n      underline.style.transform = 'scaleX(1)'\n    }\n\n    const handleChange = (e) =>{  \n      if(e.target.parentNode.classList.contains('error') && e.target.value.length > 0){\n        e.target.parentNode.classList.remove('error')\n      }\n    }\n    \n    \n    return (\n        <form>\n            <div className=\"coord-line\">\n               \n                <div className=\"input\">\n                    <input \n                        type=\"text\"\n                        id=\"name\"\n                        name=\"name\"\n                        required\n                        onChange={(e)=> {\n                            setName(e.target.value);\n                            handleChange(e)\n                        }}\n                        onFocus={(e)=>handleFocus(e)}\n                        onBlur={(e)=> handleBlur(e)}\n                        value={name}\n                        placeholder={language.language === \"Shakespeare\" ? en.name : fr.name }\n                    />\n                  <span className=\"underline\"></span>\n                </div>\n                \n                <div className=\"email-content input\">\n                <label id=\"not-mail\">{language.language === \"Shakespeare\" ? en.mail : fr.mail}</label>\n                    \n                      <input\n                          type=\"mail\"\n                          id=\"email\"\n                          name=\"email\"\n                          required\n                          onChange={(e) => {\n                            setMail(e.target.value)\n                            handleChange(e)\n                          }}\n                          onFocus={(e)=>handleFocus(e)}\n                          onBlur={(e)=> handleBlur(e)}\n                          placeholder=\"Email\"\n                          value={mail}\n                      />\n                   <span className=\"underline\"></span>\n                </div>\n               \n                <div className=\"input\">\n                  \n                    <input\n                        type=\"text\"\n                        id=\"phone\"\n                        name=\"phone\"\n                        onChange={(e) => setPhone(e.target.value)}\n                        onFocus={(e)=>handleFocus(e)}\n                        onBlur={(e)=> handleBlur(e)}\n                        placeholder={language.language === \"Shakespeare\" ? en.phone : fr.phone }\n                        value={phone}\n                    /> \n                   <span className=\"underline\"></span>\n                </div> \n            </div>\n            \n            <div className=\"subject-content input\">\n              \n                <input \n                        type=\"text\"\n                        id=\"subject\"\n                        required\n                        name=\"subject\"\n                        onChange={(e)=> {\n                          setSubject(e.target.value)\n                          handleChange(e)\n                        }}\n                        onFocus={(e)=>handleFocus(e)}\n                        onBlur={(e)=> handleBlur(e)}\n                        value={subject}\n                        placeholder={language.language === \"Shakespeare\" ? en.subject : fr.subject }\n                />\n              <span className=\"underline\"></span>\n            </div>\n            \n            <div className=\"input\">\n              \n                <textarea\n                    id=\"message\"\n                    name=\"message\"\n                    onChange={(e) => {\n                        setMessage(e.target.value)\n                        handleChange(e)\n                    }}\n                    onFocus={(e)=>handleFocus(e)}\n                    onBlur={(e)=> handleBlur(e)}\n                    placeholder=\"message\"\n                    value={message}\n                    required\n                    rows=\"4\"\n                />\n              <span className=\"underline\"></span>\n            </div>\n             \n            <div className=\"button\">\n                <button \n                type=\"submit\"\n                onClick={handleSubmit}\n            >\n                  {language.language === \"Shakespeare\" ? en.button : fr.button }\n                </button>\n            </div>\n           <div className=\"form-message\">{language.language === \"Shakespeare\" ? en.error : fr.error}</div>\n           \n        </form>\n    )\n}\n\nexport default ContactForm;"]},"metadata":{},"sourceType":"module"}